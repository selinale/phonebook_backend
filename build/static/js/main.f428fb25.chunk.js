(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(41)},22:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(16),u=t.n(o),c=(t(22),t(2)),l=t(3),i=t.n(l),s="http://localhost:3001/api/persons",m=function(){return i.a.get(s).then(function(e){return e.data})},f=function(e){return i.a.post(s,e).then(function(e){return e.data})},d=function(e,n){return i.a.put("".concat(s,"/").concat(e),n).then(function(e){return e.data})},b=function(e){return i.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})};function h(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw o}}}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var w=function(e){var n=e.message;return null===n?null:n.error?a.a.createElement("div",{className:"error"},n.message):a.a.createElement("div",{className:"success"},n.message)},g=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(r.useState)(""),l=Object(c.a)(u,2),i=l[0],s=l[1],v=Object(r.useState)(""),g=Object(c.a)(v,2),p=g[0],y=g[1],E=Object(r.useState)(""),N=Object(c.a)(E,2),j=N[0],O=N[1],S=Object(r.useState)(!1),C=Object(c.a)(S,1)[0],T=Object(r.useState)(null),k=Object(c.a)(T,2),M=k[0],A=k[1];Object(r.useEffect)(function(){m().then(function(e){o(e)})},[]);var I=C?t:t.filter(function(e){return e.name.toLowerCase().includes(p.toLowerCase())});return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(w,{message:M}),a.a.createElement("div",null,"filter shown with ",a.a.createElement("input",{value:p,onChange:function(e){y(e.target.value)}})),a.a.createElement("h2",null,"Add new person"),a.a.createElement("form",{onSubmit:function(e){!function(e,n){var t=n.persons,r=n.newName,o=n.newNumber,u=(n.newMessage,n.setPersons),c=n.setNewName,l=n.setNewNumber,i=n.setNewMessage;e.preventDefault();var s,b={name:r,number:o,id:Math.floor(5e3*Math.random())},v=!1,w=h(t);try{for(w.s();!(s=w.n()).done;){var g=s.value;if(g.name===r){var p=g;v=!0;break}}}catch(y){w.e(y)}finally{w.f()}v?window.confirm("".concat(r," is already added to phonebook, replace the old number with a new one?"))?d(p.id,b).then(function(){return m().then(function(e){i({message:"The number of '".concat(b.name,"' was changed"),error:!1}),setTimeout(function(){i(null)},3e3),u(e)})}).catch(function(e){i({message:"Information of '".concat(b.name,"' has already been removed from server"),error:!0})}):console.log(""):f(b).then(function(e){u(t.concat(e)),i({message:"The person named '".concat(b.name,"' was added"),error:!1}),setTimeout(function(){i(null)},3e3)}),c(""),l(""),a.a.createElement("div",null,t.map(function(e){return a.a.createElement("ul",{key:e.id},e.name," ",e.number)}))}(e,{persons:t,newName:i,newNumber:j,newMessage:M,setPersons:o,setNewName:s,setNewNumber:O,setNewMessage:A})}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:i,onChange:function(e){s(e.target.value)}}),"number: ",a.a.createElement("input",{value:j,onChange:function(e){O(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))),a.a.createElement("h2",null,"Numbers"),I.map(function(e){return a.a.createElement("ul",{key:e.id},e.name," ",e.number,a.a.createElement("button",{onClick:function(){return function(e,n,t,r){window.confirm("Delete ".concat(n,"?"))?b(e).then(function(){return m().then(function(e){r({message:"The person named '".concat(n,"' was removed"),error:!1}),setTimeout(function(){r(null)},3e3),t(e)})}):console.log("")}(e.id,e.name,o,A)}},"delete"))}))},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then(function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,u=n.getTTFB;t(e),r(e),a(e),o(e),u(e)})};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.f428fb25.chunk.js.map